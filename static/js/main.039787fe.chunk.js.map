{"version":3,"sources":["components/Content/Dialogs/Dialog/Dialog.tsx","api/api.ts","hoc/withAuthRedirect.tsx","redux/dialogs_reducer.ts","components/Sidebar/Sidebar.module.css","components/Content/Profile/Profile.module.css","components/Content/Profile/MyPosts/Post/Post.module.css","components/Common/FormControls/FormControls.tsx","components/NavBar/NavBar.module.css","components/Content/Users/Users.module.css","reportWebVitals.ts","assets/img/background/bckgrimg3.jpg","assets/img/decor/samurai.png","components/NavBar/NavBar.tsx","components/Content/Music/Music.tsx","components/Content/Settings/Settings.tsx","components/Sidebar/SidebarContainer.tsx","components/Sidebar/Sidebar.tsx","api/usersAPI.ts","redux/users_reducer.ts","assets/img/ava/ava.png","components/Content/Users/Users/User.tsx","components/Common/Paginator/Paginator.tsx","components/Content/Users/Users/Users.tsx","assets/img/preloader/preloader1.gif","components/Common/Preloader/Preloader.tsx","utils/selectors/users_selectors.ts","components/Content/Users/UsersContainer.tsx","components/Content/Profile/ProfileInfo/ProfileStatus/ProfileStatusWithHooks.tsx","components/Content/Profile/ProfileInfo/ProfileData/ProfileData.tsx","components/Content/Profile/ProfileInfo/EditProfileForm/EditProfileForm.tsx","components/Content/Profile/ProfileInfo/ProfileInfo.tsx","api/profileAPI.ts","redux/profile_reducer.ts","components/Content/Profile/MyPosts/Post/Post.tsx","components/Content/Profile/MyPosts/MyPosts.tsx","components/Content/Profile/MyPosts/MyPostsContainer.tsx","components/Content/Profile/Profile.tsx","components/Content/Profile/ProfileContainer.tsx","assets/img/logo/logo.png","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","redux/app_reducer.ts","redux/store.ts","assets/img/decor/papirus2.png","assets/img/decor/shadowsamurai.png","components/Content/WelcomePage/WelcomePage.tsx","assets/img/decor/eyes.png","App.tsx","index.tsx","components/Common/Paginator/Paginator.module.css","api/authAPI.ts","api/securityAPI.ts","redux/auth_reducer.ts","components/Content/WelcomePage/WelcomePage.module.css","utils/validators/validators.ts","components/Common/FormControls/FormControls.module.css","components/Header/Header.module.css","components/Content/Dialogs/Dialogs.module.css","components/Content/Profile/MyPosts/MyPosts.module.css","components/Content/Profile/ProfileInfo/ProfileInfo.module.css"],"names":["Dialog","props","className","s","dialogItem","src","avatar","alt","to","id","dialogLink","activeClassName","active","name","ResultCodesEnum","ResultCodeForCaptcha","instance","axios","create","baseURL","withCredentials","headers","mstp","state","isAuth","auth","withAuthRedirect","Component","connect","restProps","initState","dialogsUsersData","messagesData","message","myMessage","dialogsActions","sendMessage","newMessageText","type","dialogsReducer","action","newMessage","length","trim","module","exports","Textarea","input","meta","touched","error","hasError","formControl","Input","myCreateField","placeholder","component","validate","text","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","NavBar","nav","item","activeLink","Music","Settings","startIndex","Math","floor","random","SidebarContainer","dialogsPage","friendsList","slice","map","user","sidebarWrapper","usersAPI","pageNumber","pageSize","get","res","data","userId","post","delete","users","currentPage","totalUsersCount","isFetching","followUnfollowInProgress","usersActions","inProgress","User","samurai","userPhoto","photos","small","defaultAva","btn","followed","disabled","some","onClick","unfollow","follow","userInfo","userInfoPart","status","Paginator","totalItemsCount","onPageNumberClick","portionSize","useState","portionNumber","setPortionNumber","pagesCount","ceil","pages","i","push","portionCount","leftPortionNumber","rightPortionNumber","paginator","paginatorNumbers","filter","p","page","Users","u","Preloader","preloaderStyle","width","size","height","position","left","top","style","preloader","selectSavedUsers","createSelector","usersPage","selectPageSize","selectCurrentPage","selectTotalUsersCount","selectIsFetching","selectFollowUnfollowInProgress","UsersContainer","setCurrentPageUsers","this","getUsers","wrapper","React","dispatch","items","totalCount","resultCode","ProfileStatusWithHooks","editMode","setEditMode","setStatus","useEffect","onChange","e","currentTarget","value","onBlur","updateUserStatus","autoFocus","onDoubleClick","isOwner","Contacts","contactTitle","contactValue","contactItem","href","target","title","ProfileData","aboutMe","profile","lookingForAJob","lookingForAJobDescription","Object","keys","contacts","key","EditProfileForm","reduxForm","form","onSubmit","handleSubmit","changeAvatar","htmlFor","files","saveAvatar","undefined","urlValidator","editProfileBtn","setEditProfile","ProfileInfo","editProfile","infoContent","profileHeader","samuraiPic","nameStatusBlock","fullName","initialValues","formData","updateProfile","profileAPI","put","photoFile","FormData","append","postsMessagesData","likesCounter","profileActions","addPost","newPostText","setUserProfileState","setUserStatus","deletePost","postId","setUserProfileOnPage","profileReducer","Post","MyPosts","memo","console","log","postsElements","header","AddPostForm","postsArea","newPost","Field","required","textAreaMaxLengthValidate","MyPostsContainer","profilePage","Profile","main_content","ProfileContainer","Number","match","params","authorizedUserId","history","getUserStatus","refreshProfile","prevProps","prevState","snapshot","compose","Success","file","getState","stopSubmit","_error","withRouter","Header","logo","login","loginInfo","loginName","email","logoutBtn","logoutUser","HeaderContainer","initialized","appActions","rootReducer","combineReducers","authReducer","app","formReducer","store","createStore","applyMiddleware","ThunkMiddleware","WelcomePage","welcomeContainer","papyrus","papyrusImg","eyes","shadowImg","shadow","LoginContainer","lazy","DialogsContainer","App","initializeApp","background","backgroundImage","backgroundSize","samuraiImg","fallback","exact","path","render","AppWithConnect","setUserLoginData","SamuraiApp","ReactDOM","StrictMode","document","getElementById","authAPI","password","rememberMe","captcha","securityAPI","captchaUrl","payload","authActions","loginUser","getCaptcha","messages","a","url","_maxLengthValidateCreator","maxLength","inputMaxLengthValidate"],"mappings":"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","file":"static/js/main.039787fe.chunk.js","sourcesContent":["import {NavLink} from 'react-router-dom';\r\nimport s from '../Dialogs.module.css';\r\nimport React from 'react';\r\n\r\nexport type DialogPropsType = {\r\n    id: number\r\n    name: string\r\n    avatar: string\r\n}\r\n\r\nexport function Dialog(props: DialogPropsType) {\r\n    return (\r\n        <div className={s.dialogItem}>\r\n            <img src={props.avatar} alt=\"samurai user avatar\"/>\r\n            <NavLink to={`/dialogs/${props.id}`} className={s.dialogLink}\r\n                     activeClassName={s.active}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}","import axios from 'axios';\r\n\r\n\r\nexport const instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        'API-KEY': '518b0738-7ca3-4f1f-b3b6-a549590182a8'\r\n    }\r\n})\r\n\r\n//* Generic for different response data and result codes (api) =======================================================>>\r\nexport type APIResponseType<D = {}, RC = ResultCodesEnum> = {\r\n    data: D\r\n    resultCode: RC\r\n    messages: Array<string>\r\n}\r\n\r\nexport enum ResultCodesEnum {\r\n    Success = 0,\r\n    Error = 1\r\n}\r\n\r\nexport enum ResultCodeForCaptcha {\r\n    CaptchaIsRequired = 10\r\n}\r\n\r\n\r\n","import React, {ComponentType} from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../redux/store';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\n\r\ntype MapStateType = {\r\n    isAuth: boolean\r\n}\r\nconst mstp = (state: AppStateType): MapStateType => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\r\n\r\n    const RedirectComponent = (props: MapStateType) => {\r\n        let {isAuth, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to={'/login'}/>\r\n        return <Component {...restProps as T}/>\r\n    }\r\n\r\n    return connect<MapStateType, {}, T, AppStateType>(mstp)(RedirectComponent)\r\n}","import {InferActionsTypes} from './store';\r\n\r\n//* ================== Dialogs reducer types ===============================================================>\r\nexport type DialogUserType = {\r\n    id: number\r\n    name: string\r\n    avatar: string\r\n}\r\nexport type DialogMessageType = {\r\n    id: number\r\n    message: string\r\n    myMessage: boolean\r\n}\r\n\r\n//* ================== Initial State =======================================================================>\r\nconst initState = {\r\n    dialogsUsersData: [\r\n        {\r\n            id: 1, name: 'Kitomo Natsuro',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTmJt-xek2xo2KnR6gWf1A1_a4OTxTXMLVmdJDJ-9wC6xxA4khbW0lKNf4ZflC208TXLzQ&usqp=CAU'\r\n        },\r\n        {\r\n            id: 2, name: 'Sikoko Segun',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQkUdW1_Zq7oSMdhFPPBVA95E6I2826kV8E5g&usqp=CAU'\r\n        },\r\n        {\r\n            id: 3, name: 'Kisyu Natsuro',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTAlCDzpuVgphrQRGPiOxu6eNeNJHaWM6lslw&usqp=CAU'\r\n        },\r\n        {\r\n            id: 4, name: 'Alex',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTsQYU_81MJ9p9yHZRIdnyGzyLXvVwDUAhVQA&usqp=CAU'\r\n        },\r\n        {\r\n            id: 5, name: 'Iniomo Ui',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSdtA3LzTpUVWQrqxVbOVGTtkjMp3DafnXt9Q&usqp=CAU'\r\n        },\r\n        {\r\n            id: 6, name: 'Hiroyuki Kagawa',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRy_bDsKsWxzoqDxB2lVcPxthT4zaqitcbUMg&usqp=CAU'\r\n        },\r\n        {\r\n            id: 7, name: 'Xin Jao',\r\n            avatar: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSxFLuxdlIPooR8nGzHrzE1XehYLDAOo8orqg&usqp=CAU'\r\n        },\r\n    ] as DialogUserType[],\r\n    messagesData: [\r\n        {id: 1, message: 'How\\'s your samurai lessons?', myMessage: false},\r\n        {id: 2, message: 'How are you, broh?', myMessage: false},\r\n        {id: 3, message: 'Oi!', myMessage: true},\r\n        {id: 4, message: 'Hi', myMessage: false},\r\n        {id: 4, message: 'Who is this?', myMessage: true},\r\n    ] as DialogMessageType[],\r\n}\r\nexport type DialogsPageStateType = typeof initState\r\n\r\nconst dialogsReducer = (state: DialogsPageStateType = initState, action: DialogsActionsTypes):\r\n    DialogsPageStateType => {\r\n    switch (action.type) {\r\n        case 'kty112/dialogs_reducer/SEND_MESSAGE':\r\n            const newMessage: DialogMessageType = {\r\n                id: state.messagesData.length + 1,\r\n                message: action.newMessageText.trim(),\r\n                myMessage: true\r\n            }\r\n            return {...state, messagesData: [...state.messagesData, newMessage]}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//* ====== Action Creators =================================================================>\r\nexport type DialogsActionsTypes = InferActionsTypes<typeof dialogsActions>\r\n\r\nexport const dialogsActions = {\r\n    sendMessage: (newMessageText: string) => ({type: 'kty112/dialogs_reducer/SEND_MESSAGE', newMessageText} as const),\r\n}\r\n\r\n\r\nexport default dialogsReducer\r\n\r\n\r\n//* dynamic dispatch try xD ================================================================================>>\r\n//* used types for DD try (if uncomment should get it outside reducer):\r\n// type DDKeysTypes = 'kty112/dialogs_reducer/SEND_MESSAGE' | 'kty112/dialogs_reducer/NEW_MESSAGE_TEXT_CHANGE' | 'default'\r\n// type switcherType = {\r\n//     [key in DDKeysTypes]: (action: DialogsActionsTypes) => DialogsPageStateType\r\n// }\r\n//* DD code:\r\n// const switcher: switcherType = {\r\n//     'kty112/dialogs_reducer/SEND_MESSAGE':  () => {\r\n//         const newMessage: DialogMessageType = {\r\n//             id: state.messagesData.length + 1,\r\n//             message: state.newMessageText.trim(),\r\n//             myMessage: true\r\n//         }\r\n//         return {\r\n//             ...state,\r\n//             messagesData: [...state.messagesData, newMessage],\r\n//             newMessageText: ''\r\n//         }\r\n//     },\r\n//     'kty112/dialogs_reducer/NEW_MESSAGE_TEXT_CHANGE': function (action:any) {\r\n//         return {...state, newMessageText: action.newMessageText}\r\n//     },\r\n//     'default': function () {return state}\r\n// };\r\n// return (switcher[action.type] || switcher['default'])(action)","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebarWrapper\":\"Sidebar_sidebarWrapper__3p5kE\",\"dialogItem\":\"Sidebar_dialogItem__VmRnh\",\"dialogLink\":\"Sidebar_dialogLink__3Ra5r\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_content\":\"Profile_main_content__18xQJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__u0ieA\"};","import React from 'react'\r\nimport {Field, WrappedFieldProps} from 'redux-form'\r\nimport s from './FormControls.module.css'\r\nimport {ValidatorType} from '../../../utils/validators/validators'\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n            <textarea {...input} {...props}/> <br/>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error\r\n\r\n    return (\r\n        <div className={`${s.formControl} ${hasError ? s.error : ''}`}>\r\n            <input {...input} {...props}/> <br/>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport function myCreateField<FormKeysType extends string> (name: FormKeysType,\r\n                                                            placeholder: string | undefined,\r\n                                                            component: string | React.Component | React.FC<WrappedFieldProps>,\r\n                                                            validate: ValidatorType[],\r\n                                                            props = {},\r\n                                                            className = '',\r\n                                                            text = '',\r\n                                                            id= '') {\r\n    return (\r\n        <div>\r\n            <Field component={component} name={name} placeholder={placeholder}\r\n                           validate={validate} {...props} id={id} className={className}/>{text}\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__1owoD\",\"item\":\"NavBar_item__1nPMT\",\"activeLink\":\"NavBar_activeLink__3J0cq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Users_wrapper__xKnBD\",\"samurai\":\"Users_samurai__2V_aS\",\"userPhoto\":\"Users_userPhoto__1vSW6\",\"btn\":\"Users_btn__3gUW7\",\"userInfo\":\"Users_userInfo__2_Q52\",\"userInfoPart\":\"Users_userInfoPart__3_K9f\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","export default __webpack_public_path__ + \"static/media/bckgrimg3.1842418d.jpg\";","export default __webpack_public_path__ + \"static/media/samurai.2bf64c61.png\";","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport s from './NavBar.module.css'\r\n\r\nfunction NavBar() {\r\n    return <nav className={s.nav}>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/profile\"} activeClassName={s.activeLink}>Profile</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/dialogs\"} activeClassName={s.activeLink}>Messages</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/users\"} activeClassName={s.activeLink}>Samurais</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/music\"} activeClassName={s.activeLink}>Music</NavLink>\r\n        </div>\r\n        <div className={s.item}>\r\n            <NavLink to={\"/settings\"} activeClassName={s.activeLink}>Settings</NavLink>\r\n        </div>\r\n    </nav>\r\n}\r\n\r\nexport default NavBar","import React from 'react'\r\n\r\nfunction Music() {\r\n    return (\r\n        <div>\r\n            Music Page\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Music","import React from 'react'\r\n\r\nfunction Settings() {\r\n    return (\r\n        <div>\r\n            Settings Page\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Settings","import {Sidebar} from './Sidebar';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../redux/store';\r\nimport {DialogUserType} from '../../redux/dialogs_reducer';\r\n\r\n\r\ntype MapStateType = {\r\n    dialogsUsersData: Array<DialogUserType>\r\n    startIndex: number\r\n}\r\nexport type SidebarPropsType = MapStateType\r\n\r\nconst startIndex = Math.floor(Math.random() * 4 + 1)\r\n\r\nfunction mapStateToProps(state: AppStateType): MapStateType {\r\n    return {\r\n        dialogsUsersData: state.dialogsPage.dialogsUsersData,\r\n        startIndex: startIndex\r\n    }\r\n}\r\n\r\nexport const SidebarContainer = connect<MapStateType, {}, {}, AppStateType>(mapStateToProps, {})(Sidebar)\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Sidebar.module.css'\r\nimport {Dialog} from '../Content/Dialogs/Dialog/Dialog';\r\nimport {DialogUserType} from '../../redux/dialogs_reducer';\r\nimport {SidebarPropsType} from './SidebarContainer';\r\n\r\n\r\nexport function Sidebar(props: SidebarPropsType) {\r\n\r\n    const friendsList = props.dialogsUsersData.slice(props.startIndex, props.startIndex + 3)\r\n        .map((user: DialogUserType) => <Dialog key={user.id}\r\n                                               id={user.id}\r\n                                               name={user.name}\r\n                                               avatar={user.avatar}/>)\r\n\r\n    return (\r\n        <div className={s.sidebarWrapper}>\r\n            <h2>Friends</h2>\r\n            {friendsList}\r\n        </div>\r\n    )\r\n}","import {UserType} from '../redux/users_reducer';\r\nimport {APIResponseType, instance} from './api';\r\n\r\ntype GetUserRequestType = {\r\n    items: UserType[]\r\n    totalCount: number\r\n    error: string\r\n}\r\nexport const usersAPI = {\r\n    getUsers(pageNumber: number, pageSize: number) {\r\n        return instance.get<GetUserRequestType>(`users?page=${pageNumber}&count=${pageSize}`).then(res => res.data)\r\n    },\r\n    follow(userId: number) {\r\n        return instance.post<APIResponseType>(`follow/${userId}`).then(res => res.data)\r\n    },\r\n    unfollow(userId: number) {\r\n        return instance.delete<APIResponseType>(`follow/${userId}`).then(res => res.data)\r\n    }\r\n}","import {BaseThunkType, InferActionsTypes} from './store'\r\nimport {PhotosType} from './profile_reducer'\r\nimport {usersAPI} from '../api/usersAPI'\r\n\r\n//* ================== Users reducer types ===============================================================>\r\nexport type UserType = {\r\n    id: number,\r\n    name: string\r\n    status: string\r\n    photos: PhotosType\r\n    followed: boolean\r\n}\r\n\r\n//* ================== Initial State ====================================================================>\r\n\r\nconst initState = {\r\n    users: [] as Array<UserType>,\r\n    pageSize: 7,\r\n    currentPage: 1,\r\n    totalUsersCount: 0,\r\n    isFetching: false,\r\n    followUnfollowInProgress: [] as number[]\r\n}\r\n\r\nexport type UserStateType = typeof initState\r\n\r\nexport const usersReducer = (state: UserStateType = initState, action: UsersActionsType): UserStateType => {\r\n    switch (action.type) {\r\n        case 'kty112/users_reducer/SET_USERS':\r\n            return {\r\n                ...state,\r\n                users: [...action.users]\r\n            }\r\n        case 'kty112/users_reducer/FOLLOW':\r\n            return {\r\n                ...state,\r\n                //users: updateObjInArray(state.users, 'id', action.userId, {followed: true})\r\n                users: state.users.map(u => u.id === action.userId ? {...u, followed: true} : u)\r\n            }\r\n        case 'kty112/users_reducer/UNFOLLOW':\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => u.id === action.userId ? {...u, followed: false} : u)\r\n            }\r\n        case 'kty112/users_reducer/SET_CURRENT_PAGE_NUMBER':\r\n            return {...state, currentPage: action.pageNumber}\r\n        case 'kty112/users_reducer/SET_TOTAL_USERS_COUNT':\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        case 'kty112/users_reducer/SET_IS_FETCHING':\r\n            return {...state, isFetching: action.isFetching}\r\n        case 'kty112/users_reducer/SET_FOLLOW_UNFOLLOW_IN_PROGRESS':\r\n            return {\r\n                ...state,\r\n                followUnfollowInProgress: action.inProgress ?\r\n                    [...state.followUnfollowInProgress, action.userId] :\r\n                    state.followUnfollowInProgress.filter(id => id !== action.userId)\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//* ====== Action Creators =============================================================================================>\r\ntype UsersActionsType = InferActionsTypes<typeof usersActions>\r\n\r\nexport const usersActions = {\r\n    followSuccess: (userId: number) => ({type: 'kty112/users_reducer/FOLLOW', userId} as const),\r\n    unfollowSuccess: (userId: number) => ({type: 'kty112/users_reducer/UNFOLLOW', userId} as const),\r\n    setUsers: (users: UserType[]) => ({type: 'kty112/users_reducer/SET_USERS', users} as const),\r\n    setCurrentPage: (pageNumber: number) => ({\r\n        type: 'kty112/users_reducer/SET_CURRENT_PAGE_NUMBER',\r\n        pageNumber\r\n    } as const),\r\n    setTotalUsersCount: (totalUsersCount: number) => ({\r\n        type: 'kty112/users_reducer/SET_TOTAL_USERS_COUNT',\r\n        totalUsersCount\r\n    } as const),\r\n    setIsFetching: (isFetching: boolean) => ({type: 'kty112/users_reducer/SET_IS_FETCHING', isFetching} as const),\r\n    setFollowUnfollowInProgress: (inProgress: boolean, userId: number) =>\r\n        ({type: 'kty112/users_reducer/SET_FOLLOW_UNFOLLOW_IN_PROGRESS', userId, inProgress} as const),\r\n}\r\n\r\n//* ====== Thunk Creators ============================================================================================>\r\ntype ThunkType = BaseThunkType<UsersActionsType>\r\n\r\nexport const getUsers = (page: number, pageSize: number): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(usersActions.setIsFetching(true))\r\n        usersAPI.getUsers(page, pageSize)\r\n            .then(data => {\r\n                dispatch(usersActions.setIsFetching(false))\r\n                dispatch(usersActions.setUsers(data.items))\r\n                dispatch(usersActions.setTotalUsersCount(data.totalCount))\r\n            })\r\n    }\r\n\r\nexport const setCurrentPageUsers = (page: number, pageSize: number): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(usersActions.setIsFetching(true))\r\n        dispatch(usersActions.setCurrentPage(page))\r\n        usersAPI.getUsers(page, pageSize)\r\n            .then(data => {\r\n                dispatch(usersActions.setIsFetching(false))\r\n                dispatch(usersActions.setUsers(data.items))\r\n            })\r\n    }\r\n\r\nexport const follow = (userId: number): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(usersActions.setFollowUnfollowInProgress(true, userId))\r\n        usersAPI.follow(userId)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(usersActions.followSuccess(userId))\r\n                }\r\n                dispatch(usersActions.setFollowUnfollowInProgress(false, userId))\r\n            })\r\n    }\r\n\r\nexport const unfollow = (userId: number): ThunkType =>\r\n    (dispatch) => {\r\n        dispatch(usersActions.setFollowUnfollowInProgress(true, userId))\r\n        usersAPI.unfollow(userId)\r\n            .then(data => {\r\n                if (data.resultCode === 0) {\r\n                    dispatch(usersActions.unfollowSuccess(userId))\r\n                }\r\n                dispatch(usersActions.setFollowUnfollowInProgress(false, userId))\r\n            })\r\n    }","export default __webpack_public_path__ + \"static/media/ava.289b1460.png\";","//* Users functional component =======================================================================================>>\r\nimport {UserType} from '../../../../redux/users_reducer'\r\nimport React from 'react'\r\nimport s from '../Users.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\nimport defaultAva from '../../../../assets/img/ava/ava.png'\r\n\r\ntype UserPropsType = {\r\n    user: UserType\r\n    followUnfollowInProgress: number[]\r\n    follow: (userId: number) => Function\r\n    unfollow: (userId: number) => Function\r\n}\r\nexport const User: React.FC<UserPropsType> = ({user, ...restProps}) => {\r\n    return (\r\n        <div className={s.samurai}>\r\n            <div>\r\n                <div>\r\n                    <NavLink to={'/profile/' + user.id}>\r\n                        <img className={s.userPhoto}\r\n                             src={user.photos.small !== null ? user.photos.small : defaultAva}\r\n                             alt=\"user pic\"\r\n                        />\r\n                    </NavLink>\r\n                </div>\r\n                <div className={s.btn}>\r\n                    {user.followed\r\n                        ? <button disabled={restProps.followUnfollowInProgress.some(id => id === user.id)}\r\n                                  onClick={() => restProps.unfollow(user.id)}>unfollow</button>\r\n                        : <button disabled={restProps.followUnfollowInProgress.some(id => id === user.id)}\r\n                                  onClick={() => restProps.follow(user.id)}>follow</button>}\r\n                </div>\r\n            </div>\r\n            <div className={s.userInfo}>\r\n                <div className={s.userInfoPart}>\r\n                    <div>{user.name}</div>\r\n                    <div>{user.status}</div>\r\n                </div>\r\n                <div className={s.userInfoPart}>\r\n                    <div>{'Samurai'}</div>\r\n                    <div>{'Way'}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useState} from 'react'\r\nimport s from './Paginator.module.css'\r\n\r\n\r\ntype TPaginatorProps = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize?: number\r\n    onPageNumberClick: (pageNumber: number) => void\r\n}\r\n\r\nexport function Paginator(props: TPaginatorProps) {\r\n    const {totalItemsCount, pageSize, currentPage, onPageNumberClick, portionSize = 10} = props\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n    let pages: number[] = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / portionSize)\r\n    const leftPortionNumber = (portionNumber - 1) * portionSize\r\n    const rightPortionNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            <button onClick={() => setPortionNumber(portionNumber - 1)}\r\n                    disabled={!(portionNumber - 1)}\r\n                    className={s.btn}>\r\n            </button>\r\n            <div className={s.paginatorNumbers}>\r\n                {pages.filter(p => p >= leftPortionNumber && p <= rightPortionNumber)\r\n                    .map(p => <span key={p}\r\n                                    className={currentPage === p ? s.page + ' ' + s.currentPage : s.page}\r\n                                    onClick={() => onPageNumberClick(p)}\r\n                    >{p}</span>)}\r\n            </div>\r\n            <button onClick={() => setPortionNumber(portionNumber + 1)}\r\n                    disabled={portionNumber >= portionCount}\r\n                    className={s.btn}>\r\n            </button>\r\n            {/*<input type=\"number\" onKeyPress={(e) => e.key==='Enter' && setPortionNumber(+e.currentTarget.value)}/>*/}\r\n        </div>\r\n    )\r\n}\r\n\r\n","import React from 'react'\r\nimport {UserType} from '../../../../redux/users_reducer'\r\nimport {User} from './User'\r\nimport {Paginator} from '../../../Common/Paginator/Paginator'\r\n\r\n//* Users functional component =======================================================================================>>\r\ntype UsersPropsType = {\r\n    users: UserType[]\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    followUnfollowInProgress: number[]\r\n    onPageNumberClick: (pageNumber: number) => void\r\n    follow: (userId: number) => Function\r\n    unfollow: (userId: number) => Function\r\n}\r\n\r\nexport function Users(props: UsersPropsType) {\r\n    return (\r\n        <div>\r\n            <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\r\n                       currentPage={props.currentPage} onPageNumberClick={props.onPageNumberClick} />\r\n            <div>\r\n                {props.users.map((u) => <User key={u.id}\r\n                                              user={u}\r\n                                              followUnfollowInProgress={props.followUnfollowInProgress}\r\n                                              follow={props.follow}\r\n                                              unfollow={props.unfollow}/>)}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n","export default __webpack_public_path__ + \"static/media/preloader1.af17ae06.gif\";","import React from 'react';\r\nimport preloader from '../../../assets/img/preloader/preloader1.gif'\r\n\r\ntype PreloaderPropsType = {\r\n    /**\r\n     * css position left of preloader\r\n     */\r\n    left?: string\r\n    /**\r\n     * css position top of preloader\r\n     */\r\n    top?: string\r\n    /**\r\n     * size of preloader in pixels\r\n     */\r\n    size?: string\r\n}\r\n\r\nexport function Preloader(props: PreloaderPropsType) {\r\n    const preloaderStyle: {} = {\r\n        width: props.size ? props.size : '100px',\r\n        height: props.size ? props.size : '100px',\r\n        position: 'absolute',\r\n        left: props.left ? props.left : '40px',\r\n        top: props.top ? props.top : '40px'\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <img style={preloaderStyle} src={preloader} alt=\"\"/>\r\n        </div>\r\n    )\r\n}","import { createSelector } from 'reselect';\r\nimport {AppStateType} from '../../redux/store';\r\n\r\n\r\nexport const selectUsers = (state: AppStateType) => state.usersPage.users\r\n// as an example of using createSelector:\r\nexport const selectSavedUsers = createSelector(selectUsers, (users) => {\r\n    return users.filter(user => true)\r\n})\r\n\r\nexport const selectPageSize = (state: AppStateType) => state.usersPage.pageSize\r\nexport const selectCurrentPage = (state: AppStateType) => state.usersPage.currentPage\r\nexport const selectTotalUsersCount = (state: AppStateType) => state.usersPage.totalUsersCount\r\nexport const selectIsFetching = (state: AppStateType) => state.usersPage.isFetching\r\nexport const selectFollowUnfollowInProgress = (state: AppStateType) => state.usersPage.followUnfollowInProgress","import React from 'react'\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../../redux/store';\r\nimport {follow, getUsers, setCurrentPageUsers, unfollow, UserType} from '../../../redux/users_reducer';\r\nimport {Users} from './Users/Users';\r\nimport {Preloader} from '../../Common/Preloader/Preloader';\r\nimport {\r\n    selectCurrentPage, selectFollowUnfollowInProgress, selectIsFetching,\r\n    selectPageSize,\r\n    selectSavedUsers,\r\n    selectTotalUsersCount\r\n} from '../../../utils/selectors/users_selectors';\r\nimport s from './Users.module.css'\r\n\r\n\r\nclass UsersContainer extends React.Component<UsersContainerPropsType, AppStateType> {\r\n\r\n    componentDidMount() {\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageNumberClick = (pageNumber: number) => {\r\n        this.props.setCurrentPageUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className={s.wrapper}>\r\n                {this.props.isFetching ? <Preloader left={'40%'} top={'40%'} size={'200px'}/> : null}\r\n                <Users\r\n                    users={this.props.users}\r\n                    currentPage={this.props.currentPage}\r\n                    pageSize={this.props.pageSize}\r\n                    totalUsersCount={this.props.totalUsersCount}\r\n                    followUnfollowInProgress={this.props.followUnfollowInProgress}\r\n                    onPageNumberClick={this.onPageNumberClick}\r\n                    follow={this.props.follow}\r\n                    unfollow={this.props.unfollow}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n//* UsersContainer component with HOC connect to get access to context ===============================================>>\r\ntype MapStateType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    currentPage: number\r\n    totalUsersCount: number\r\n    isFetching: boolean\r\n    followUnfollowInProgress: number[]\r\n}\r\nconst mapStateToProps = (state: AppStateType): MapStateType => {\r\n    return {\r\n        users: selectSavedUsers(state),\r\n        pageSize: selectPageSize(state),\r\n        currentPage: selectCurrentPage(state),\r\n        totalUsersCount: selectTotalUsersCount(state),\r\n        isFetching: selectIsFetching(state),\r\n        followUnfollowInProgress: selectFollowUnfollowInProgress(state)\r\n    }\r\n}\r\n\r\ntype MapDispatchType = {\r\n    getUsers: (page: number, pageSize: number) => Function\r\n    setCurrentPageUsers: (page: number, pageSize: number) => Function\r\n    follow: (userId: number) => Function\r\n    unfollow: (userId: number) => Function\r\n}\r\n\r\nexport type UsersContainerPropsType = MapStateType & MapDispatchType\r\n\r\n//* default export to App.tsx (UsersContainer with HOC connect) ======================================================>>\r\nexport default connect<MapStateType, MapDispatchType, {}, AppStateType>\r\n(mapStateToProps, {\r\n    getUsers,\r\n    setCurrentPageUsers,\r\n    follow,\r\n    unfollow,\r\n})(UsersContainer)","import React, {ChangeEvent, useEffect, useState} from 'react'\r\nimport s from '../ProfileInfo.module.css'\r\n\r\n\r\ntype PropsType = {\r\n    status: string\r\n    isOwner: boolean\r\n    updateUserStatus: (status: string) => void\r\n}\r\n\r\n\r\nexport const ProfileStatusWithHooks: React.FC<PropsType> = (props) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        if(props.isOwner) setEditMode(true)\r\n    }\r\n    const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n    const deactivateEditMode = () => {\r\n        props.updateUserStatus(status)\r\n        setEditMode(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode ?\r\n                <div>\r\n                        <span onDoubleClick={activateEditMode} className={s.status}>\r\n                            {props.status || 'enter your status'}\r\n                        </span>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <input onChange={onInputChange}\r\n                           onBlur={deactivateEditMode}\r\n                           value={status}\r\n                           autoFocus/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport s from '../ProfileInfo.module.css'\r\nimport {ContactsType, ProfileType} from '../../../../../redux/profile_reducer'\r\n\r\ntype TContacts = {\r\n    contactTitle: string\r\n    contactValue: string | undefined\r\n}\r\nconst Contacts: React.FC<TContacts> = ({contactTitle, contactValue}) => {\r\n    return (\r\n        <div>\r\n            {contactValue &&\r\n            <span className={s.contactItem}><b>{contactTitle}</b>:\r\n                <a href={contactValue} target={'_blank'} title={'contact ref'}>{contactValue}</a>\r\n            </span>}\r\n        </div>\r\n    )\r\n}\r\n\r\ntype TProfileDataProps = {\r\n    profile: ProfileType\r\n}\r\nexport const ProfileData: React.FC<TProfileDataProps> = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={s.aboutMe}><b>About me:</b> {props.profile.aboutMe}</div>\r\n            <div className={s.aboutMe}><b>Looking for a job:</b> {props.profile.lookingForAJob ? 'yes' : 'no'}\r\n            </div>\r\n            <div className={s.aboutMe}><b>Job description:</b> {props.profile.lookingForAJobDescription}</div>\r\n            <div className={s.aboutMe}><b>My contacts:</b>\r\n                <div>\r\n                    {Object.keys(props.profile.contacts).map(key =>\r\n                        <Contacts contactTitle={key} key={key}\r\n                                  contactValue={props.profile?.contacts[key as keyof ContactsType]}/>)}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {ProfileType} from '../../../../../redux/profile_reducer'\r\nimport {reduxForm} from 'redux-form'\r\nimport React, {ChangeEvent} from 'react'\r\nimport s from '../ProfileInfo.module.css'\r\nimport {Input, myCreateField, Textarea} from '../../../../Common/FormControls/FormControls'\r\nimport {urlValidator} from '../../../../../utils/validators/validators'\r\n\r\ntype TEditProfileFormProps = {\r\n    profile: ProfileType\r\n    setEditProfile: (editProfile: boolean) => void\r\n    saveAvatar: (file: File) => void\r\n}\r\nexport const EditProfileForm = reduxForm<ProfileType, TEditProfileFormProps>({form: 'editProfile'})((props) => {\r\n\r\n    const onChangeAvatar = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            props.saveAvatar(e.target.files[0])\r\n        }\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div className={s.aboutMe}><b>Change avatar:</b>\r\n                <label className={s.changeAvatar} htmlFor={'i1'}>\r\n                    Choose avatar\r\n                    <input type=\"file\"\r\n                           id={'i1'}\r\n                           style={{width: 0}}\r\n                           placeholder={'choose ava'}\r\n                           onChange={onChangeAvatar}/>\r\n                </label>\r\n            </div>\r\n            <div className={s.aboutMe}><b>About me:</b>\r\n                {myCreateField('aboutMe', 'About me', Input, [])}\r\n            </div>\r\n            <div className={s.aboutMe}><b>Looking for a job:</b>\r\n                {myCreateField('lookingForAJob', undefined, Input, [], {type: 'checkbox'})}\r\n            </div>\r\n            <div className={s.aboutMe}><b>Job description:</b>\r\n                {myCreateField('lookingForAJobDescription', 'Your specialization', Textarea, [])}\r\n            </div>\r\n            <div className={s.aboutMe}><b>My name:</b>\r\n                {myCreateField('fullName', 'Your name', Textarea, [])}\r\n            </div>\r\n            <div className={s.aboutMe}><b>My contacts:</b>\r\n                <div>\r\n                    {Object.keys(props.profile.contacts).map(key => <div className={s.aboutMe}>\r\n                        <b>{key}</b>:\r\n                        {myCreateField('contacts.' + key, key, Input, [urlValidator])}\r\n                    </div>)}\r\n                </div>\r\n            </div>\r\n            <button type={'submit'} className={s.editProfileBtn + ' ' + s.editMode}>Save</button>\r\n            <button type={'button'} className={s.editProfileBtn + ' ' + s.editMode}\r\n                    onClick={() => props.setEditProfile(false)}>Cancel\r\n            </button>\r\n        </form>\r\n    )\r\n})","import React, {useState} from 'react'\r\nimport s from './ProfileInfo.module.css'\r\nimport {ProfileType} from '../../../../redux/profile_reducer'\r\nimport {Preloader} from '../../../Common/Preloader/Preloader'\r\nimport samuraiPic from '../../../../assets/img/ava/ava.png'\r\nimport {ProfileStatusWithHooks} from './ProfileStatus/ProfileStatusWithHooks'\r\nimport {ProfileData} from './ProfileData/ProfileData'\r\nimport {EditProfileForm} from './EditProfileForm/EditProfileForm'\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner: boolean\r\n    updateUserStatus: (status: string) => void\r\n    saveAvatar: (file: File) => void\r\n    updateProfile: (formData: ProfileType) => void\r\n}\r\n\r\nfunction ProfileInfo(props: PropsType) {\r\n    const [editProfile, setEditProfile] = useState(false)\r\n\r\n    if (!props.profile) {\r\n        return <Preloader left={'40%'} top={'40%'} size={'200px'}/>\r\n    }\r\n\r\n    const onProfileFormSubmit = (formData: ProfileType) => {\r\n        props.updateProfile(formData)\r\n        setEditProfile(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.infoContent}>\r\n                <div className={s.profileHeader}>\r\n                    <img src={props.profile.photos.small || samuraiPic} alt=\"user ava\"/>\r\n                    <div className={s.nameStatusBlock}>\r\n                        <div className={s.name}><span>Hi, I'm </span>{props.profile.fullName}</div>\r\n                        <ProfileStatusWithHooks status={props.status} updateUserStatus={props.updateUserStatus}\r\n                                                isOwner={props.isOwner}/>\r\n                    </div>\r\n                    {props.isOwner && !editProfile &&\r\n                    <button className={s.editProfileBtn} onClick={() => setEditProfile(true)}>Edit profile</button>}\r\n                </div>\r\n                {editProfile ? <EditProfileForm profile={props.profile}\r\n                                                initialValues={props.profile}\r\n                                                onSubmit={onProfileFormSubmit}\r\n                                                saveAvatar={props.saveAvatar}\r\n                                                setEditProfile={setEditProfile}/>\r\n                    : <ProfileData profile={props.profile}/>}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileInfo","import {ProfileType} from '../redux/profile_reducer'\r\nimport {APIResponseType, instance} from './api'\r\n\r\nexport const profileAPI = {\r\n    getUserProfile(userId: number) {\r\n        return instance.get<ProfileType>(`profile/${userId}`).then(res => res.data)\r\n    },\r\n    getUserStatus(userId: number) {\r\n        return instance.get<string>(`profile/status/${userId}`).then(res => res.data)\r\n    },\r\n    updateUserStatus(status: string) {\r\n        return instance.put<APIResponseType>('profile/status', {status}).then(res => res.data)\r\n    },\r\n    saveAvatar(photoFile: File) {\r\n        const formData = new FormData()\r\n        formData.append('image', photoFile)\r\n        return instance.put('profile/photo', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data'\r\n            }\r\n        }).then(res => res.data)\r\n    },\r\n    updateProfile(formData: ProfileType) {\r\n        return instance.put<APIResponseType>('profile/', formData).then(res => res.data)\r\n    }\r\n}","import {BaseThunkType, InferActionsTypes} from './store'\r\nimport {profileAPI} from '../api/profileAPI'\r\nimport {ResultCodesEnum} from '../api/api'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\n//* ================== Profile reducer types ===============================================================>\r\nexport type PostMessageType = {\r\n    id: number\r\n    message: string\r\n    likesCounter: number\r\n}\r\nexport type ContactsType = {\r\n    github: string\r\n    vk: string\r\n    facebook: string\r\n    instagram: string\r\n    twitter: string\r\n    website: string\r\n    youtube: string\r\n    mainLink: string\r\n}\r\nexport type PhotosType = {\r\n    small: string\r\n    large: string\r\n}\r\nexport type ProfileType = {\r\n    aboutMe: string\r\n    userId: number\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n    fullName: string\r\n    contacts: ContactsType\r\n    photos: PhotosType\r\n}\r\n\r\n//* ================== Initial State =======================================================================>\r\nconst initState = {\r\n    postsMessagesData: [\r\n        {id: 1, message: 'It\\'s my first post', likesCounter: 66},\r\n        {id: 2, message: 'It\\'s my second post', likesCounter: 22},\r\n        {id: 3, message: 'How are you doing?', likesCounter: 11},\r\n        {id: 4, message: 'I\\'m absolutely fine!', likesCounter: 6},\r\n    ] as PostMessageType[],\r\n    profile: null as null | ProfileType,\r\n    status: ''\r\n}\r\n\r\nexport type ProfilePageStateType = typeof initState\r\n\r\nconst profileReducer = (state: ProfilePageStateType = initState, action: ProfileActionsTypes):\r\n    ProfilePageStateType => {\r\n    switch (action.type) {\r\n        case 'kty112/profile_reducer/ADD_POST':\r\n            return {\r\n                ...state,\r\n                postsMessagesData: [\r\n                    {id: state.postsMessagesData.length + 1, message: action.newPostText.trim(), likesCounter: 0},\r\n                    ...state.postsMessagesData\r\n                ],\r\n            }\r\n        case 'kty112/profile_reducer/SET_USER_PROFILE':\r\n            return {...state, profile: action.profile}\r\n        case 'kty112/profile_reducer/SET_USER_STATUS':\r\n            return {...state, status: action.status}\r\n        case 'kty112/profile_reducer/DELETE_POST':\r\n            return {...state, postsMessagesData: state.postsMessagesData.filter(post => post.id !== action.postId)}\r\n        case 'kty112/profile_reducer/SAVE_AVATAR':\r\n            return {...state, profile: {...state.profile, photos: action.photos} as ProfileType}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//* ====== Action Creators ============================================================================================>\r\nexport type ProfileActionsTypes = InferActionsTypes<typeof profileActions>\r\n\r\nexport const profileActions = {\r\n    addPost: (newPostText: string) => ({type: 'kty112/profile_reducer/ADD_POST', newPostText} as const),\r\n    setUserProfileState: (profile: ProfileType) => ({\r\n        type: 'kty112/profile_reducer/SET_USER_PROFILE',\r\n        profile\r\n    } as const),\r\n    setUserStatus: (status: string) => ({type: 'kty112/profile_reducer/SET_USER_STATUS', status} as const),\r\n    deletePost: (postId: number) => ({type: 'kty112/profile_reducer/DELETE_POST', postId} as const),\r\n    saveAvatar: (photos: PhotosType) => ({type: 'kty112/profile_reducer/SAVE_AVATAR', photos} as const),\r\n}\r\n\r\n//* ====== Thunk Creators ==============================================================================================>\r\ntype ThunkType = BaseThunkType<ProfileActionsTypes>\r\n\r\nexport const setUserProfileOnPage = (userId: number): ThunkType => dispatch => {\r\n    profileAPI.getUserProfile(userId)\r\n        .then(data => {\r\n            dispatch(profileActions.setUserProfileState(data))\r\n        })\r\n}\r\nexport const getUserStatus = (userId: number): ThunkType => dispatch => {\r\n    profileAPI.getUserStatus(userId)\r\n        .then(data => {\r\n            if (data) {\r\n                dispatch(profileActions.setUserStatus(data))\r\n            }\r\n        })\r\n}\r\nexport const updateUserStatus = (status: string): ThunkType => dispatch => {\r\n    profileAPI.updateUserStatus(status)\r\n        .then(data => {\r\n            if (data.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(profileActions.setUserStatus(status))\r\n            }\r\n        })\r\n}\r\nexport const saveAvatar = (file: File): ThunkType => dispatch => {\r\n    profileAPI.saveAvatar(file)\r\n        .then(data => {\r\n            if(data.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(profileActions.saveAvatar(data.data.photos))\r\n            }\r\n        })\r\n}\r\nexport const updateProfile = (formData: ProfileType): ThunkType => (dispatch, getState) => {\r\n    const userId = getState().auth.userId\r\n    profileAPI.updateProfile(formData)\r\n        .then(data => {\r\n            if(data.resultCode === ResultCodesEnum.Success) {\r\n                if(userId) dispatch(setUserProfileOnPage(userId))\r\n            } else {\r\n                stopSubmit('editProfile', {_error: 'some error occurred'})\r\n            }\r\n        })\r\n}\r\n\r\nexport default profileReducer\r\n","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\ntype PostPropsType = {\r\n    message: string\r\n    likesCounter: number\r\n}\r\n\r\nfunction Post(props: PostPropsType) {\r\n    return (\r\n        <div className={s.item}>\r\n            <div>\r\n                <img src={'https://image.freepik.com/free-vector/samurai-warrior_157713-74.jpg'}\r\n                     alt={'post pic'}/>\r\n                {props.message}\r\n            </div>\r\n            <div>\r\n                likes: {props.likesCounter}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Post","import React from 'react'\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\nimport {PostMessageType} from '../../../../redux/profile_reducer';\r\nimport {MyPostsPropsType} from './MyPostsContainer';\r\nimport {Field, reduxForm} from 'redux-form';\r\nimport {Textarea} from '../../../Common/FormControls/FormControls';\r\nimport {required, textAreaMaxLengthValidate} from '../../../../utils/validators/validators';\r\n\r\n\r\nconst MyPosts = React.memo((props: MyPostsPropsType) => {\r\n    console.log('RENDER MP')\r\n    const postsElements = props.postsMessagesData\r\n        .map((post: PostMessageType) => <Post key={post.id} message={post.message} likesCounter={post.likesCounter}/>)\r\n\r\n    const onAddPost = (formData: FormData) => {\r\n        props.addPost(formData.newPostText)\r\n        formData.newPostText = ''\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <header className={s.header}>My Posts</header>\r\n            <AddPostForm onSubmit={onAddPost}/>\r\n            <div className={s.postsArea}>\r\n                {postsElements}\r\n            </div>\r\n        </div>)\r\n})\r\n\r\n//* AddPostForm component ========================================================================================>>\r\ntype FormData = {\r\n    newPostText: string\r\n}\r\nconst AddPostForm = reduxForm<FormData>({form: 'myPostsAddPost'})\r\n((props) => {\r\n    console.log('FORM RENDERED')\r\n    return (\r\n        <form className={s.newPost} onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea}\r\n                   name={'newPostText'}\r\n                   placeholder={'type your thoughts'}\r\n                   validate={[required, textAreaMaxLengthValidate]}/>\r\n            <div>\r\n                <button>Add Post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n})\r\n\r\nexport default MyPosts","import {PostMessageType, profileActions} from '../../../../redux/profile_reducer';\r\nimport MyPosts from './MyPosts';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../../../redux/store';\r\n\r\ntype MapStateType = {\r\n    postsMessagesData: Array<PostMessageType>\r\n}\r\ntype MapDispatchType = {\r\n    addPost: (newPostText: string) => void\r\n}\r\nexport type MyPostsPropsType = MapStateType & MapDispatchType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateType => {\r\n    return {\r\n        postsMessagesData: state.profilePage.postsMessagesData,\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect<MapStateType, MapDispatchType, {}, AppStateType>\r\n(mapStateToProps, {addPost: profileActions.addPost})(MyPosts)\r\n","import React from 'react';\r\nimport s from './Profile.module.css'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\r\nimport {MyPostsContainer} from './MyPosts/MyPostsContainer';\r\nimport {ProfileType} from '../../../redux/profile_reducer';\r\n\r\n\r\ntype PropsType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    isOwner: boolean\r\n    updateUserStatus: (status: string) => void\r\n    saveAvatar: (file: File) => void\r\n    updateProfile: (formData: ProfileType) => void\r\n}\r\n\r\nfunction Profile(props: PropsType) {\r\n    return (\r\n        <main className={s.main_content}>\r\n            <ProfileInfo profile={props.profile}\r\n                         updateProfile={props.updateProfile}\r\n                         status={props.status}\r\n                         isOwner={props.isOwner}\r\n                         updateUserStatus = {props.updateUserStatus}\r\n                         saveAvatar = {props.saveAvatar}\r\n            />\r\n            <MyPostsContainer/>\r\n        </main>)\r\n}\r\n\r\nexport default Profile","import React from 'react';\r\nimport Profile from './Profile';\r\nimport {connect} from 'react-redux';\r\nimport {AppStateType} from '../../../redux/store';\r\nimport {\r\n    getUserStatus,\r\n    ProfileType,\r\n    saveAvatar,\r\n    setUserProfileOnPage, updateProfile,\r\n    updateUserStatus\r\n} from '../../../redux/profile_reducer'\r\nimport {RouteComponentProps, withRouter} from 'react-router-dom';\r\nimport {compose} from 'redux';\r\nimport {withAuthRedirect} from '../../../hoc/withAuthRedirect'\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\ntype ProfileContainerPropsType = MapStateType & MapDispatchType & RouteComponentProps<PathParamsType>\r\n\r\nclass ProfileContainer extends React.Component<ProfileContainerPropsType> {\r\n    refreshProfile() {\r\n        let userId = Number(this.props.match.params.userId)\r\n        if (!userId) {\r\n            if(this.props.authorizedUserId) {\r\n                userId = this.props.authorizedUserId\r\n            } else {\r\n                this.props.history.push('/login')\r\n            }\r\n        }\r\n        this.props.setUserProfileOnPage(userId)\r\n        this.props.getUserStatus(userId)\r\n    }\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n    componentDidUpdate(prevProps: Readonly<ProfileContainerPropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if(this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile()\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return <Profile profile={this.props.profile}\r\n                        status={this.props.status}\r\n                        isOwner={!this.props.match.params.userId}\r\n                        updateUserStatus = {this.props.updateUserStatus}\r\n                        updateProfile={this.props.updateProfile}\r\n                        saveAvatar = {this.props.saveAvatar}\r\n        />\r\n    }\r\n}\r\n\r\ntype MapDispatchType = {\r\n    setUserProfileOnPage: (userId: number) => void\r\n    getUserStatus: (userId: number) => void\r\n    updateUserStatus: (status: string) => void\r\n    saveAvatar: (file: File) => void\r\n    updateProfile: (formData: ProfileType) => void\r\n}\r\ntype MapStateType = {\r\n    profile: ProfileType | null\r\n    status: string\r\n    authorizedUserId: number | null\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateType => {\r\n    return {\r\n        profile: state.profilePage.profile,\r\n        status: state.profilePage.status,\r\n        authorizedUserId: state.auth.userId,\r\n    }\r\n}\r\n\r\nexport default compose<React.ComponentType>(\r\n    withAuthRedirect,\r\n    connect<MapStateType, MapDispatchType, {}, AppStateType>\r\n    (mapStateToProps, {setUserProfileOnPage, getUserStatus, updateUserStatus, saveAvatar, updateProfile}),\r\n    withRouter\r\n)(ProfileContainer)\r\n\r\n","export default __webpack_public_path__ + \"static/media/logo.5e59495d.png\";","import React from 'react';\r\nimport s from './Header.module.css'\r\nimport logo from '../../assets/img/logo/logo.png'\r\nimport {NavLink} from 'react-router-dom';\r\nimport { HeaderPropsType } from './HeaderContainer';\r\n\r\n\r\nfunction Header(props: HeaderPropsType) {\r\n    return <header className={s.header}>\r\n        <img src={logo} alt={'logotype'}/>\r\n        <div className={s.login}>\r\n            {props.isAuth ?\r\n                <div className={s.loginInfo}>\r\n                    <div>{props.loginName} / {props.email}</div>\r\n                    <div className={s.logoutBtn} onClick={() => props.logoutUser()}>Logout</div>\r\n                </div>\r\n                :\r\n                <NavLink to={'/login'}>Login</NavLink>\r\n            }\r\n        </div>\r\n    </header>\r\n}\r\n\r\nexport default Header","import React from 'react';\r\nimport {AppStateType} from '../../redux/store';\r\nimport Header from './Header';\r\nimport {connect} from 'react-redux';\r\nimport {logoutUser} from '../../redux/auth_reducer';\r\n\r\n\r\nclass HeaderContainer extends React.Component<HeaderPropsType> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\ntype MapStateType = {\r\n    loginName: string | null\r\n    email: string | null\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchType = {\r\n    logoutUser: () => void\r\n}\r\nexport type HeaderPropsType = MapStateType & MapDispatchType\r\n\r\nconst mapStateToProps = (state: AppStateType): MapStateType => {\r\n    return {\r\n        loginName: state.auth.loginName,\r\n        email: state.auth.email,\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport default connect<MapStateType, MapDispatchType, {}, AppStateType>(mapStateToProps,\r\n    {logoutUser})(HeaderContainer)","import {BaseThunkType, InferActionsTypes} from './store';\r\nimport {setUserLoginData} from './auth_reducer';\r\n\r\n//* ================== Initial State ==================================================================================>\r\nconst initState = {\r\n    initialized: false\r\n}\r\ntype AppReducerType = typeof initState\r\n\r\nexport const appReducer = (state: AppReducerType = initState, action: AppReducerActionsType) => {\r\n    switch (action.type) {\r\n        case 'INITIALIZED_SUCCESS':\r\n            return {...state, initialized: true}\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//* ====== Action Creators ============================================================================================>\r\ntype AppReducerActionsType = InferActionsTypes<typeof appActions>\r\nexport const appActions = {\r\n    initializedSuccess: () => ({type: 'INITIALIZED_SUCCESS'} as const)\r\n}\r\n\r\n//* ====== Thunk Creators ==============================================================================================>\r\ntype ThunkType = BaseThunkType<AppReducerActionsType>\r\nexport const initializeApp = (): ThunkType => dispatch => {\r\n    dispatch(setUserLoginData())\r\n        .then(() => {\r\n            dispatch(appActions.initializedSuccess())\r\n        })\r\n}","import {Action, applyMiddleware, combineReducers, createStore} from 'redux';\r\nimport profileReducer from './profile_reducer';\r\nimport dialogsReducer from './dialogs_reducer';\r\nimport {usersReducer} from './users_reducer';\r\nimport {authReducer} from './auth_reducer';\r\nimport ThunkMiddleware, {ThunkAction} from 'redux-thunk';\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from './app_reducer';\r\n\r\n\r\n\r\nconst rootReducer = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\n//* creating state type ===============================================================================================>\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\n//* creating type to infer types from Actions =========================================================================>\r\n// type PropertiesTypes<T> = T extends {[key: string]: infer U} ? U : never\r\n// export type InferActionsTypes<T extends { [key: string]: (...args: any[]) => any }> = ReturnType<PropertiesTypes<T>>\r\nexport type InferActionsTypes<T> = T extends { [key: string]: (...args: any[]) => infer U } ? U : never\r\n\r\n//* creating common thunk typesation type: ===========================================================================>>\r\nexport type BaseThunkType<A extends Action = Action, R = void> = ThunkAction<R, AppStateType, unknown, A>\r\n\r\n\r\nexport const store = createStore(rootReducer, applyMiddleware(ThunkMiddleware))\r\n\r\n\r\nexport type StoreType = typeof store","export default __webpack_public_path__ + \"static/media/papirus2.108c2256.png\";","export default __webpack_public_path__ + \"static/media/shadowsamurai.283225f5.png\";","import s from './WelcomePage.module.css'\r\nimport papyrusImg from '../../../assets/img/decor/papirus2.png'\r\nimport eyesImg from '../../../assets/img/decor/eyes.png'\r\nimport shadowImg from '../../../assets/img/decor/shadowsamurai.png'\r\nimport React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\n\r\nexport const WelcomePage = () => {\r\n    return (\r\n        <div className={s.welcomeContainer}>\r\n            <img className={s.papyrus} src={papyrusImg} alt=\"papyrus\"/>\r\n            <img src={eyesImg} className={s.eyes} alt=\"eyes\"/>\r\n            <img src={shadowImg} className={s.shadow} alt=\"shadow samurai\"/>\r\n            <NavLink className={s.btn} to={'/login'}>JOIN US</NavLink>\r\n        </div>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","import React, {Suspense} from 'react'\r\nimport './App.css'\r\nimport backgroundImage from './assets/img/background/bckgrimg3.jpg'\r\nimport samuraiImg from './assets/img/decor/samurai.png'\r\nimport NavBar from './components/NavBar/NavBar'\r\nimport {HashRouter, Redirect, Route, Switch} from 'react-router-dom'\r\nimport Music from './components/Content/Music/Music'\r\nimport Settings from './components/Content/Settings/Settings'\r\nimport {SidebarContainer} from './components/Sidebar/SidebarContainer'\r\nimport UsersContainer from './components/Content/Users/UsersContainer'\r\nimport ProfileContainer from './components/Content/Profile/ProfileContainer'\r\nimport HeaderContainer from './components/Header/HeaderContainer'\r\nimport {compose} from 'redux'\r\nimport {connect, Provider} from 'react-redux'\r\nimport {initializeApp} from './redux/app_reducer'\r\nimport {AppStateType, store} from './redux/store'\r\nimport {Preloader} from './components/Common/Preloader/Preloader'\r\nimport {WelcomePage} from './components/Content/WelcomePage/WelcomePage';\r\n\r\n// import DialogsContainer from './components/Content/Dialogs/DialogsContainer'\r\n// import LoginContainer from './components/Login/LoginContainer';\r\n\r\nconst LoginContainer = React.lazy(() => import('./components/Login/LoginContainer'))\r\nconst DialogsContainer = React.lazy(() => import('./components/Content/Dialogs/DialogsContainer'))\r\n\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n    componentDidMount() {\r\n        this.props.initializeApp()\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.initialized) return <Preloader left={'40%'} top={'40%'} size={'200px'}/>\r\n        return (\r\n            <div className=\"app-wrapper\"\r\n                 style={{background: `black url(${backgroundImage})`, backgroundSize: '100%',}}>\r\n                <img className={'samuraiImg'} src={samuraiImg} alt=\"decor element\"/>\r\n                <HeaderContainer/>\r\n                {this.props.isAuth && <NavBar/>}\r\n\r\n\r\n                <div className=\"main-content\">\r\n                    {this.props.isAuth && <SidebarContainer/>}\r\n                    <Suspense fallback={<Preloader left={'40%'} top={'40%'} size={'200px'}/>}>\r\n                        <Switch>\r\n                            <Route exact path={'/'} render={() => <Redirect to={'/welcome'}/>}/>\r\n                            <Route path={'/welcome'} render={() => <WelcomePage/>}/>\r\n                            <Route path={'/dialogs'} render={() => <DialogsContainer/>}/>\r\n                            <Route path={'/profile/:userId?'} render={() => <ProfileContainer/>}/>\r\n                            <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n                            <Route path={'/music'} render={() => <Music/>}/>\r\n                            <Route path={'/settings'} render={() => <Settings/>}/>\r\n                            <Route path={'/login'} render={() => <LoginContainer/>}/>\r\n                        </Switch>\r\n                    </Suspense>\r\n\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\ntype MapStateType = {\r\n    initialized: boolean\r\n    isAuth: boolean\r\n}\r\ntype MapDispatchType = {\r\n    initializeApp: () => void\r\n}\r\ntype AppPropsType = MapStateType & MapDispatchType\r\n\r\nconst mstp = (state: AppStateType): MapStateType => ({\r\n    initialized: state.app.initialized,\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nconst AppWithConnect = compose(\r\n    connect<MapStateType, MapDispatchType, {}, AppStateType>(mstp, {initializeApp})\r\n)(App)\r\n\r\nexport const SamuraiApp = () => {\r\n    return (\r\n        <HashRouter>\r\n            <Provider store={store}>\r\n                <AppWithConnect />\r\n            </Provider>\r\n        </HashRouter>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport './index.css'\r\nimport reportWebVitals from './reportWebVitals'\r\nimport ReactDOM from 'react-dom'\r\nimport {SamuraiApp} from './App'\r\n\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <SamuraiApp/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n)\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__8KJWd\",\"page\":\"Paginator_page__20iBc\",\"currentPage\":\"Paginator_currentPage__1JBLv\",\"paginatorNumbers\":\"Paginator_paginatorNumbers__y7cy1\",\"btn\":\"Paginator_btn__16pVB\"};","import {APIResponseType, instance} from './api';\r\n\r\ntype AuthDataType = {\r\n    id: number\r\n    email: string\r\n    login: string\r\n}\r\ntype LoginDataType = {\r\n    userId: number\r\n}\r\nexport const authAPI = {\r\n    getUserData() {\r\n        return instance.get<APIResponseType<AuthDataType>>(`auth/me`).then(res => res.data)\r\n    },\r\n    loginUser(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\r\n        return instance.post<APIResponseType<LoginDataType>>(`auth/login`, {email, password, rememberMe, captcha})\r\n            .then(res => res.data)\r\n    },\r\n    logoutUser() {\r\n        return instance.delete<APIResponseType>('auth/login').then(res => res.data)\r\n    }\r\n}","import {instance} from './api'\r\n\r\ntype TCaptchaRequest = {\r\n    url: string\r\n}\r\n\r\nexport const securityAPI = {\r\n    getCaptcha() {\r\n        return instance.get<TCaptchaRequest>('security/get-captcha-url').then(res => res.data)\r\n    }\r\n}","import {BaseThunkType, InferActionsTypes} from './store'\r\nimport {authAPI} from '../api/authAPI'\r\nimport {ResultCodesEnum} from '../api/api'\r\nimport {FormAction, stopSubmit} from 'redux-form'\r\nimport {securityAPI} from '../api/securityAPI'\r\n\r\n//* ================== Initial State =======================================================================>\r\nconst initState = {\r\n    userId: null as number | null,\r\n    loginName: null as string | null,\r\n    email: null as string | null,\r\n    isAuth: false,\r\n    captchaUrl: null as null | string\r\n}\r\ntype AuthStateType = typeof initState\r\n\r\nexport const authReducer = (state: AuthStateType = initState, action: AuthReducerActionsType): AuthStateType => {\r\n    switch (action.type) {\r\n        case 'kty112/auth_reducer/SET_USER_DATA':\r\n        case 'kty112/auth_reducer/SET_CAPTCHA_URL':\r\n            return {\r\n                ...state,\r\n                ...action.payload\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\n//* ====== Action Creators ============================================================================================>\r\ntype AuthReducerActionsType = InferActionsTypes<typeof authActions>\r\n\r\nexport const authActions = {\r\n    setUserData: (userId: number | null, loginName: string | null, email: string | null, isAuth: boolean) =>\r\n        ({type: 'kty112/auth_reducer/SET_USER_DATA', payload: {userId, loginName, email, isAuth}} as const),\r\n    setCaptchaUrl: (payload: {captchaUrl: string | null}) => ({type: 'kty112/auth_reducer/SET_CAPTCHA_URL', payload} as const)\r\n}\r\n\r\n//* ====== Thunk Creators ==============================================================================================>\r\ntype ThunkType = BaseThunkType<AuthReducerActionsType | FormAction>\r\n\r\nexport const setUserLoginData = (): BaseThunkType<AuthReducerActionsType, Promise<void>> => dispatch => {\r\n        return authAPI.getUserData()\r\n            .then(data => {\r\n                const {id, login, email} = data.data\r\n                if (data.resultCode === ResultCodesEnum.Success) {\r\n                    dispatch(authActions.setUserData(id, login, email, true))\r\n                }\r\n            })\r\n    }\r\nexport const loginUser = (email: string, password: string, rememberMe: boolean, captcha: string | null): ThunkType => dispatch => {\r\n    authAPI.loginUser(email, password, rememberMe, captcha)\r\n        .then(data => {\r\n            if(data.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(setUserLoginData())\r\n                dispatch(authActions.setCaptchaUrl({captchaUrl: null}))\r\n            } else {\r\n                if(data.resultCode === 10) {\r\n                    dispatch(getCaptcha())\r\n                }\r\n                dispatch(stopSubmit('loginForm', {_error: data.messages ? data.messages[0] : 'Some error'}))\r\n            }\r\n        })\r\n}\r\nexport const logoutUser = (): ThunkType => dispatch => {\r\n    authAPI.logoutUser()\r\n        .then(data => {\r\n            if(data.resultCode === ResultCodesEnum.Success) {\r\n                dispatch(authActions.setUserData(null, null, null, false))\r\n            }\r\n        })\r\n}\r\nexport const getCaptcha = (): ThunkType => async dispatch => {\r\n    let data = await securityAPI.getCaptcha()\r\n    dispatch(authActions.setCaptchaUrl({captchaUrl: data.url}))\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"welcomeContainer\":\"WelcomePage_welcomeContainer__16_fg\",\"papyrus\":\"WelcomePage_papyrus__3kBVM\",\"eyes\":\"WelcomePage_eyes__KzwIv\",\"shadow\":\"WelcomePage_shadow__9ZFJk\",\"btn\":\"WelcomePage_btn__C52b5\"};","export type ValidatorType = (value: string | undefined) => string | undefined\r\n\r\nexport const required: ValidatorType = (value) => {\r\n    if (!value) return 'Field is required!'\r\n    return undefined\r\n}\r\n\r\nconst _maxLengthValidateCreator = (maxLength: number): ValidatorType => (value) => {\r\n    if (value && value.length > maxLength) return `Max length is ${maxLength} symbols!`\r\n    return undefined\r\n}\r\n\r\nexport const urlValidator: ValidatorType = (value) => {\r\n    if (value) {\r\n        if (!isValidURL(value)) {\r\n            return 'Enter correct address'\r\n        }\r\n    }\r\n    return undefined\r\n}\r\n\r\nexport const inputMaxLengthValidate = _maxLengthValidateCreator(25)\r\nexport const textAreaMaxLengthValidate = _maxLengthValidateCreator(300)\r\n\r\nfunction isValidURL(str: string) {\r\n    const res = str.match(/(http(s)?:\\/\\/.)?(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,6}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)/g)\r\n    return (res !== null)\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__1IGdY\",\"error\":\"FormControls_error__RY9MI\",\"serverError\":\"FormControls_serverError__1eftl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__33kbC\",\"login\":\"Header_login__9mEaN\",\"loginInfo\":\"Header_loginInfo__3sRL2\",\"logoutBtn\":\"Header_logoutBtn__1jKN4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contentWrapper\":\"Dialogs_contentWrapper__3kLYO\",\"userDialogs\":\"Dialogs_userDialogs__3GFgN\",\"messages\":\"Dialogs_messages__35LV3\",\"userMessages\":\"Dialogs_userMessages__1qOHv\",\"inputArea\":\"Dialogs_inputArea__2ZaGe\",\"dialogItem\":\"Dialogs_dialogItem__3msPB\",\"dialogLink\":\"Dialogs_dialogLink__LtOHQ\",\"active\":\"Dialogs_active__173DT\",\"messageItem\":\"Dialogs_messageItem__2ssUD\",\"collocutorMessage\":\"Dialogs_collocutorMessage__2fYLt\",\"messageCircle\":\"Dialogs_messageCircle__2oNOz\",\"messageText\":\"Dialogs_messageText__1psDH\",\"inputAreaContent\":\"Dialogs_inputAreaContent__1RvK-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MyPosts_header__3EAs7\",\"newPost\":\"MyPosts_newPost__3H4eu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoContent\":\"ProfileInfo_infoContent__2IB7e\",\"profileHeader\":\"ProfileInfo_profileHeader__3q6xD\",\"nameStatusBlock\":\"ProfileInfo_nameStatusBlock__2mDyS\",\"name\":\"ProfileInfo_name__3Gb6Q\",\"editProfileBtn\":\"ProfileInfo_editProfileBtn__VRbL1\",\"editMode\":\"ProfileInfo_editMode__9V5ho\",\"aboutMe\":\"ProfileInfo_aboutMe___gt-L\",\"status\":\"ProfileInfo_status__3QShy\",\"changeAvatar\":\"ProfileInfo_changeAvatar__1byq7\",\"contactItem\":\"ProfileInfo_contactItem__1Q-dV\"};"],"sourceRoot":""}